<!DOCTYPE html>
<html>

<head>

    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Angular form</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">

    <!-- Website CSS style -->
    <link rel="stylesheet" type="text/css" href="css/login.css">

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.6/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.6/angular-route.js"></script>
</head>

<body ng-app="myApp">



    <div class="container">
        <div class="row">
            <div class="col-sm-6 col-md-4 col-md-offset-4">

                <div class="account-wall">

                    <form class="form-signin" ng-submit='submitForm()' ng-controller="authController">
                        <input type="text" class="form-control" placeholder="Email" name="email" ng-model='form.email' required autofocus>
                        <input type="password" class="form-control" placeholder="Password" name="password" ng-model='form.password' required>
                        <button class="btn btn-lg btn-primary btn-block" type="submit">
                    Sign in</button>
                        <label class="checkbox pull-left">
                    <input type="checkbox" value="remember-me">
                    Remember me
                </label>
                        <a href="#" class="pull-right need-help"> </a><span class="clearfix"></span>
                    </form>
                </div>

            </div>
        </div>
    </div>


    <script>
        const App = angular.module('myApp', ["ngRoute"]);

        App.controller("authController", function($http, $scope, $location, $window) {
            $scope.form = {};

            $scope.submitForm = function() {

                function success(response) {

                    if (!response.data.success) {
                        alert("VALE PAROOL LITS");
                    }
                    else {

                        $window.location.reload();
                    }
                }

                function error() {
                    alert("ERROR");
                }

                $http.post("/v1/login", $scope.form).then(success, error);

            };



        });
    </script>

</body>

</html>
